<?xml version="1.0" ?>
<rvx>
  <dec_ip>
    <name>starc_mmiox_mlsu</name>
    <hdl_name>STARC_ENGINE</hdl_name>
    <def_parameter>
      <name>BW_ADDR</name>
      <value>32</value>
    </def_parameter>

    <def_parameter>
      <name>SPIKEIN_BW_DATA</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>WEIGHT_BW_DATA</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>SPIKEOUT_BW_DATA</name>
      <value>32</value>
    </def_parameter>

    <def_parameter>
      <name>CORE_INPUT_SIZE</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>CORE_OUTPUT_SIZE</name>
      <value>CORE_INPUT_SIZE</value>
    </def_parameter>
    <def_parameter>
      <name>BW_WEIGHT</name>
      <value>8</value>
    </def_parameter>

    <def_parameter>
      <name>BW_CONFIG</name>
      <value>1</value>
    </def_parameter>
    <def_parameter>
      <name>BW_STATUS</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>BW_LOG</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>BW_INST</name>
      <value>520</value>
    </def_parameter>
    <def_parameter>
      <name>BW_INPUT</name>
      <value>CORE_INPUT_SIZE*32</value>
    </def_parameter>
    <def_parameter>
      <name>BW_OUTPUT</name>
      <value>32</value>
    </def_parameter>
    <def_parameter>
      <name>CONFIG_DEFAULT_VALUE</name>
      <value>0</value>
      <virtual/>
    </def_parameter>
    <def_parameter>
      <name>LOG_FIFO_DEPTH</name>
      <value>0</value>
      <virtual/>
    </def_parameter>
    <def_parameter>
      <name>INST_FIFO_DEPTH</name>
      <value>4</value>
      <virtual/>
    </def_parameter>
    <def_parameter>
      <name>INPUT_FIFO_DEPTH</name>
      <value>INST_FIFO_DEPTH</value>
      <virtual/>
    </def_parameter>
    <def_parameter>
      <name>OUTPUT_FIFO_DEPTH</name>
      <value>0</value>
      <virtual/>
    </def_parameter>
    <def_parameter>
      <name>LSU_PARA</name>
      <value>0</value>
      <virtual/>
    </def_parameter>

    <signal>
      <name>clk</name>
      <width>1</width>
      <port>input</port>
      <comm_type>clk_dca_core</comm_type>
    </signal>

    <signal>
      <name>rstnn</name>
      <width>1</width>
      <port>input</port>
    </signal>

    <reset_property>
      <id>rstnn</id>
      <type>asynch</type>
      <type>negative</type>
      <group>3</group>
    </reset_property>

    <core>
      <sync>clk</sync>
      <init>rstnn</init>
    </core>

    <interface>
      <name>control</name>
      <library_name>mmiox1</library_name>
      <role>receiver</role>
      <comm_type>memory:all</comm_type>
      <parameter>
        <id>bw_config</id>
        <value>BW_CONFIG</value>
      </parameter>
      <parameter>
        <id>bw_status</id>
        <value>BW_STATUS</value>
      </parameter>
      <parameter>
        <id>bw_log</id>
        <value>BW_LOG</value>
      </parameter>
      <parameter>
        <id>bw_inst</id>
        <value>BW_INST</value>
      </parameter>
      <parameter>
        <id>bw_input</id>
        <value>BW_INPUT</value>
      </parameter>
      <parameter>
        <id>bw_output</id>
        <value>BW_OUTPUT</value>
      </parameter>
      <parameter>
        <id>config_default_value</id>
        <value>CONFIG_DEFAULT_VALUE</value>
      </parameter>
      <parameter>
        <id>log_fifo_depth</id>
        <value>LOG_FIFO_DEPTH</value>
      </parameter>
      <parameter>
        <id>inst_fifo_depth</id>
        <value>INST_FIFO_DEPTH</value>
      </parameter>
      <parameter>
        <id>input_fifo_depth</id>
        <value>INPUT_FIFO_DEPTH</value>
      </parameter>
      <parameter>
        <id>output_fifo_depth</id>
        <value>OUTPUT_FIFO_DEPTH</value>
      </parameter>
      <sync>clk</sync>
      <init>rstnn</init>
    </interface>

    <interface>
      <name>lsu0</name>
      <library_name>mlsi</library_name>
      <role>sender</role>
      <comm_type>memory:data_c</comm_type>
      <parameter>
        <id>bw_axi_data</id>
        <value>SPIKEIN_BW_DATA</value>
      </parameter>
      <parameter>
        <id>lsu_para</id>
        <value>MAKE_LSU_READ_ONLY(LSU_PARA)</value>
      </parameter>
      <parameter>
        <id>bw_tensor_scalar</id>
        <value>1</value>
      </parameter>
      <parameter>
        <id>matrix_num_col</id>
        <value>CORE_INPUT_SIZE</value>
      </parameter>
      <sync>clk</sync>
      <init>rstnn</init>
    </interface>

    <interface>
      <name>lsu1</name>
      <library_name>mlsi</library_name>
      <role>sender</role>
      <comm_type>memory:data_c</comm_type>
      <parameter>
        <id>bw_axi_data</id>
        <value>WEIGHT_BW_DATA</value>
      </parameter>
      <parameter>
        <id>lsu_para</id>
        <value>MAKE_LSU_READ_ONLY(LSU_PARA)</value>
      </parameter>
      <parameter>
        <id>bw_tensor_scalar</id>
        <value>BW_WEIGHT</value>
      </parameter>
      <parameter>
        <id>matrix_num_col</id>
        <value>CORE_INPUT_SIZE</value>
      </parameter>
      <sync>clk</sync>
      <init>rstnn</init>
    </interface>

    <interface>
      <name>lsu2</name>
      <library_name>mlsi</library_name>
      <role>sender</role>
      <comm_type>memory:data_c</comm_type>
      <parameter>
        <id>bw_axi_data</id>
        <value>SPIKEOUT_BW_DATA</value>
      </parameter>
      <parameter>
        <id>lsu_para</id>
        <value>MAKE_LSU_WRITE_ONLY(LSU_PARA)</value>
      </parameter>
      <parameter>
        <id>bw_tensor_scalar</id>
        <value>1</value>
      </parameter>
      <parameter>
        <id>matrix_num_col</id>
        <value>CORE_OUTPUT_SIZE</value>
      </parameter>
      <sync>clk</sync>
      <init>rstnn</init>
    </interface>

  </dec_ip>
</rvx>
